Will spend the entirety of today observing Joff and Derek's AI training course. 

# Notes

Majority of their class appears to focus on how AI works more so than the applications of security concepts. (mathematics, tokenizing, jupyter notebooks)

Our class targets those who want a more basic overview of what risks face AI. 

Some overlap - there's a phishing section that also uses huggingface 





User downloads the tool
want's to clone one of their external webpages and redirect traffic to it
It's up to them to setup the infrastructure and redirect for the webpage. 

Users may need to specify the following:
- What IP should the clone send it's data back to? 
- What PORT should the clone set it's data back to? 
- What PORT should the server hosting the clone be listening on? 
- Can we add tools to make setting up the clone easier (redirect rules? API calls?)

(may need to add hosting IP and port to cloner)

other things that still need to be done 
- Auto update Bee files after deleting a campaign (may call for a code restructure for the subhivemenu box generation and fetchfolders)
- Polish the system and UI 
- When a user hovers on a bee, the campaign name should appear
- Need to add a map to the location panel 
- Need to add functionality for when a user visits or reloads a cloned page 
- Need to add an additional method to collect location if the user denies it or if the user doesn't want to use this method. 

# Auto Update Restructure 

Files are only generated when the user hovers the mouse over the hive box. Determine how the bees are generated when this occurs, and then replicate the method when the user clicks the delete button after confirming. 

ideally, this implementation will restructure the code so that new lines will be kept to a minimum and readability will be increased for future development. 

Q1 - Where and HOW are the bees being generated when the user hovers over the hive box? 

Current Process 
1. user hovers over the hivebox
2. hiveBox.addEventListener checks if the bees have been appended
3. if not, folders are collected using the fetchFolders function 
4. A beeImg is generated for each folder using the createBeeImage() function 

Create BeeImg is already it's own function, but is unable to fetch folders on it's own. 
FetchFolders is already an independent function.

Combine fetch folders and BeeImg into the same function.

The new functions needs to:
1. Get the folders
2. For each folder, generate a bee image on the subhivebox

Combining createbeeImage(parentElement, folderName) and fetchFileNames(foldername)
```JS
async function release_the_bees(parentElement)
{
	//get the folders and store it in folders;
	try {
		const response = await fetch('/api/get-campaign-folders');
		if (response.ok) {
			const data = await response.json();
			const folders = data.folders;
		}
		else {
			console.error('failed to fetch folders', response.statusText);
			return [];
		}
	} catch(error) {
		console.error("Error Fetching Folders", error);
		return [];
	}

	folders.forEach(function(folder){
		
		const beeImg = document.createElement("img");
		beeImg.src = "./static/images/bee.png";
		beeImg.id = folderName;
		beeImg.alt = `Bee for ${folderName}`;
		beeImg.classList.add("dynamic-img");
		beeImg.style.opacity = "0";
		beeImg.dataset.folderName = folderName; 
		parentElement.appendChild(beeImg);

		void beeImg.offsetWidth;
		beeImg.style.opacity = "1";
		
		beeImg.addEventListener("click", async function(event){
			if(event.target.id != lastBeeClicked)
			{
				event.preventDefault();
				hiveBox.classList.add("bee-clicked");
				beeClicked = true;
				console.log("Bee Clicked:", beeClicked);

				if(subHiveBoxCreated)
				{
					removeSubHiveBox(true, beeImg, folderName);
				}
				else if(!subHiveBoxCreated && lastBeeClicked == "placeholder")
				{
					const clickedFolderName = beeImg.dataset.folderName;
					const fileNames = await fetchFilenames(clickedFolderName);
					createSubHiveBox(hiveBox, folderName, fileNames);
					subHiveBoxCreated = true;
				}
				lastBeeClicked = event.target.id;
			}
			else if(event.target.id == lastBeeClicked)
			{
				if(document.getElementById("info_container").dataset.open == "true")
				{
					panel_manager("info_container");
				}
				removeSubHiveBox(false, beeImg);
				lastBeeClicked = "placeholder";
				hiveBox.classList.remove("bee-clicked");
			}
		});
	});
}
```

# Where the old functions are used

Note that fetchFileNames gets the files within a campaign folder and is used to generate the IP addresses  and ALL files in the subhivebox
fetchFolders gets all the campaigns and is used to generate the bee icons in the hivebox.  


createBeeImage is called shortly after line 89, within the hiveBox event listener. 

```JS
if (!beesAppended) { //Generate the submenu items
	console.log("Fetching folders...");
	const folders = await fetchFolders(); // fetchFolders() function gets folders from static/campaigns
	console.log("Folders fetched:", folders);
	folders.forEach(folder => {
	createBeeImage(hiveBox, folder); //Create a bee image for each folder in the campaign folder
});
```

